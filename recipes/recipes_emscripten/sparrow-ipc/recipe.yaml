context:
  version: 0.2.0

package:
  name: sparrow-ipc
  version: ${{ version }}

source:
  url: https://github.com/QuantStack/sparrow-ipc/archive/${{ version }}.tar.gz
  sha256: 95658f58a99f05d311dc4382a7d9f3d5a6dc0f2c15148d93086589dec7057333
  patches:
  - patches/0001-use-host-flatc.patch

build:
  number: 0

requirements:
  build:
  - ${{ compiler("cxx") }}
  - cmake
  - flatbuffers
  host:
  - flatbuffers
  - sparrow


tests:
- package_contents:
    files:
    - include/sparrow_ipc/serialize.hpp
    - include/sparrow_ipc/deserialize.hpp
    - share/cmake/sparrow-ipc/sparrow-ipcConfig.cmake
    - share/cmake/sparrow-ipc/sparrow-ipcConfigVersion.cmake
    - share/cmake/sparrow-ipc/sparrow-ipcTargets.cmake

about:
  summary: C++20 idiomatic APIs for the Apache Arrow IPC
  description: C++20 idiomatic APIs for the Apache Arrow IPC
  license: Apache-2.0
  license_family: Apache
  license_file: LICENSE
  homepage: https://github.com/QuantStack/sparrow-ipc
  documentation: https://github.com/QuantStack/sparrow-ipc

extra:
  recipe-maintainers:
  - Alex-PLACET
