context:
  version: 0.7.2
  name: praylib

source:
  url: https://github.com/DerThorsten/praylib/archive/refs/tags/${{version}}.tar.gz
  sha256: 559588101915904933a3aa170b22cdec56c0096f2e9b9bb8a2aebdef0208a950
  # git: https://github.com/DerThorsten/praylib/
  # branch: main

build:
  number: 0


outputs:
  - package:
      name: praylib-host
      version: ${{ version }}

    build:
      script: build_host.sh

    requirements:
      build:
      - ${{ compiler("cxx") }}
      - cmake>=4.0
      - ninja
      - numpy
      - python
      host:
      - python
      - pybind11 <3
      - pyjs
      - numpy
      - pyjs
      - libpython
      - zstd
      - openssl
      - xz

      run:
      - numpy
      - python
      - pyjs



  - package:
      name: praylib
      version: ${{ version }}

    build:
      script: build_pkg.sh

    requirements:
      build:
      - ${{ compiler("cxx") }}
      - cross-python_emscripten-wasm32
      - cmake>=4.0
      - ninja
      - numpy
      - nanobind
      - scikit-build-core
      - python
      - pip
      host:
      - python
      - numpy
      - raylib

      run:
      - numpy
      - python

    tests:
      - script: pytester
        files:
          recipe:
          - test_praylib.py
        requirements:
          build:
          - pytester
          run:
          - pytester-run
          - pyjs >=3

about:
  license: MIT
  license_file: LICENSE
  summary: python bindings for raylib
  homepage: https://github.com/DerThorsten/praylib

extra:
  recipe-maintainers:
  - DerThorsten
