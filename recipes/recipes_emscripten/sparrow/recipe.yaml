context:
  version: 2.2.1

package:
  name: sparrow
  version: ${{ version }}

source:
  url: https://github.com/man-group/sparrow/archive/${{ version }}.tar.gz
  sha256: 168d601e66919be35dd556a30e3047b3b42d9002d4d0271f848633be392599bf

build:
  number: 1

requirements:
  build:
  - ${{ compiler("cxx") }}
  - cmake
  - make
  host:
  - howardhinnant_date
  run:
  - howardhinnant_date

tests:
- package_contents:
    files:
    - include/sparrow/buffer/buffer.hpp
    - include/sparrow/config/sparrow_version.hpp
    - share/cmake/sparrow/sparrowConfig.cmake
    - share/cmake/sparrow/sparrowConfigVersion.cmake
    - share/cmake/sparrow/sparrowTargets.cmake
- script:
    - build_tests.sh
  requirements:
    build:
    - ${{ compiler("cxx") }}
    - cmake
    - make
  files:
    recipe:
      - build_tests.sh
      - tests/

about:
  summary: C++20 idiomatic APIs for the Apache Arrow Columnar Format
  description: C++20 idiomatic APIs for the Apache Arrow Columnar Format
  license: Apache-2.0
  license_family: Apache
  license_file: LICENSE
  homepage: https://github.com/man-group/sparrow
  documentation: https://github.com/man-group/sparrow

extra:
  recipe-maintainers:
  - JohanMabille
  - anutosh491
