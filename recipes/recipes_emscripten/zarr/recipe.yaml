context:
  name: zarr
  version: 3.0.2

package:
  name: ${{ name }}
  version: ${{ version }}


source:
- url: https://pypi.io/packages/source/${{ name[0] }}/${{ name }}/${{ name }}-${{
    version }}.tar.gz
  sha256: 036b2dabffa9f0148cad57a7be6c69d9761f6b3b833b61b7d29c2ee8a836b46c
  # patches:
  # - patches/fix-zarrsync.patch

build:
  number: 0

requirements:
  build:
  - ${{ compiler('cxx') }}
  - cross-python_emscripten-wasm32
  - python
  - pip
  - hatchling
  - hatch-vcs
  host:
  - python
    # - setuptools >=38.6.0
    # - setuptools_scm >1.5.4
  run:
  - numpy
  - asciitree
  - numcodecs
  - typing-extensions
  - donfig
  - crc32c
  - packaging

tests:
- script: pytester
  files:
    recipe:
    - test_import_zarr.py
  requirements:
    build:
    - pytester
    run:
    - pytester-run
