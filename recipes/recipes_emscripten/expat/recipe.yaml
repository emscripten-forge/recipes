context:
  name: expat
  version: 2.5.0
  ver: ${{ version|replace('.', '_') }}

package:
  name: ${{ name }}
  version: ${{ version }}

source:
  url: https://github.com/libexpat/libexpat/releases/download/R_${{ ver }}/expat-${{
    version }}.tar.bz2
  sha256: 6f0e6e01f7b30025fa05c85fdad1e5d0ec7fd35d9f61b22f34998de11969ff67

build:
  number: 0

requirements:
  build:
  - ninja
  - make
  - automake<1.17
  - libtool
  - ${{ compiler('c') }}
  - ${{ compiler('cxx') }}

tests:
- package_contents:
    bin:
    - xmlwf.wasm
    lib:
    - libexpat.a
    include:
    - expat.h
- script:
    - node $PREFIX/bin/xmlwf -h
  requirements:
    build:
      - nodejs


about:
  license: MIT
  license_family: MIT
  license_file: COPYING
  summary: Expat XML parser library in C
  homepage: http://expat.sourceforge.net/
  repository: https://github.com/libexpat/libexpat

extra:
  recipe-maintainers:
  - wolfv
  - IsabelParedes
