context:
  version: '20260107.1'
  name: libabseil

package:
  name: ${{ name }}
  version: ${{ version }}

source:
  url: https://github.com/abseil/abseil-cpp/archive/refs/tags/${{ version }}.tar.gz
  sha256: 4314e2a7cbac89cac25a2f2322870f343d81579756ceff7f431803c2c9090195

build:
  number: 0

requirements:
  build:
  - ${{ compiler('c') }}
  - ${{ compiler('cxx') }}
  - cmake
  - ninja

tests:
- package_contents:
    lib:
    - libabsl_base.a
    - libabsl_civil_time.a
    - libabsl_cord.a
    - libabsl_strings.a
    - libabsl_status.a
    include:
    - absl/base/config.h
    - absl/strings/string_view.h
    - absl/status/status.h
    - absl/synchronization/mutex.h
- script:
  - bash build_tests.sh
  requirements:
    build:
    - ${{ compiler('cxx') }}
    - cmake
    - ninja
  files:
    recipe:
    - build_tests.sh
    - tests/

about:
  homepage: https://github.com/abseil/abseil-cpp
  license: Apache-2.0
  license_family: Apache
  license_file: LICENSE
  summary: Abseil Common Libraries (C++)
  description: |
    Abseil is an open-source collection of C++ library code designed to augment
    the C++ standard library. The Abseil library code is collected from Google's
    own C++ code base and has been extensively tested and used in production.
  documentation: https://abseil.io
  repository: https://github.com/abseil/abseil-cpp

extra:
  recipe-maintainers:
  - KGB99
  - Alex-PLACET
