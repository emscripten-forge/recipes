context:
  version: 0.57.10
  name: leafmap

package:
  name: ${{ name }}
  version: ${{ version }}

source:
  url: https://pypi.org/packages/source/l/${{ name }}/${{ name }}-${{ version }}.tar.gz
  sha256: 81c68997303370ac5b14858c8ee3735b6861b7f58ff309bcd7eee0d4ce5a92a2

build:
  number: 0
  script: $PYTHON -m pip install . -vv

requirements:
  build:
    - python
    - crossenv >=1.2
    - cross-python_emscripten-wasm32
    - ${{ compiler("c") }}
    - pip
  host:
    - python
  run:
    - python
    - anywidget
    - bqplot
    - folium
    - gdown
    - geojson
    - geopandas
    - h5netcdf
    - h5py
    - ipyevents
    - ipyfilechooser
    - ipyleaflet
    - ipyvuetify
    - ipywidgets
    - ipysheet
    # JupyterLab should not be a dependency for labextensions
    # - jupyterlab
    # Will never be available?
    # - localtileserver
    - maplibre
    - matplotlib-base
    - numpy
    - opera-utils
    - pandas
    - plotly
    - pmtiles
    - pyarrow
    - pycrs
    - pystac-client
    - python-box
    - rioxarray
    - scooby
    - whiteboxgui
    - xyzservices
    # Not yet available
    # - python-duckdb >=1.4.1

tests:
- script: echo "FIXME:"

# The tests for v0.57.10 pass. This has been tested with xeus-python.
# The following fails because of issues with the test environment.
# See https://github.com/emscripten-forge/recipes/issues/4364

# tests:
# - script: pytester
#   requirements:
#     build:
#     - pytester
#     run:
#     - pytester-run
#   files:
#     recipe:
#     - test_leafmap.py

about:
  homepage: https://github.com/opengeos/leafmap
  license: MIT
  license_family: MIT
  license_file: LICENSE
  summary: A Python package for geospatial analysis and interactive mapping in a Jupyter environment
  description: A Python package for geospatial analysis and interactive mapping in a Jupyter environment

extra:
  recipe-maintainers:
  - martinRenou
