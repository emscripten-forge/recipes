From 3f01bc08cdbe29d13c82c5ab543ce182f19b6ebb Mon Sep 17 00:00:00 2001
From: Ian Thomas <ianthomas23@gmail.com>
Date: Sun, 11 Jan 2026 12:33:34 +0000
Subject: [PATCH 05/18] Set fortran linker to emcc

---
 scipy/interpolate/meson.build | 4 ++--
 scipy/linalg/meson.build      | 6 +++---
 scipy/odr/meson.build         | 2 +-
 3 files changed, 6 insertions(+), 6 deletions(-)

diff --git a/scipy/interpolate/meson.build b/scipy/interpolate/meson.build
index 33783fc034..f9d4c87982 100644
--- a/scipy/interpolate/meson.build
+++ b/scipy/interpolate/meson.build
@@ -156,7 +156,7 @@ py3.extension_module('_fitpack',
   include_directories: 'src/',
   dependencies: np_dep,
   link_args: version_link_args,
-  link_language: 'fortran',
+  link_language: 'c',
   install: true,
   subdir: 'scipy/interpolate'
 )
@@ -176,7 +176,7 @@ py3.extension_module('_dfitpack',
   link_with: [fitpack_lib],
   override_options: ['b_lto=false'],
   install: true,
-  link_language: 'fortran',
+  link_language: 'c',
   subdir: 'scipy/interpolate'
 )
 
diff --git a/scipy/linalg/meson.build b/scipy/linalg/meson.build
index 397a1a5ff3..ad37538392 100644
--- a/scipy/linalg/meson.build
+++ b/scipy/linalg/meson.build
@@ -69,7 +69,7 @@ py3.extension_module('_fblas',
   link_args: version_link_args,
   dependencies: [lapack_lp64_dep, fortranobject_dep],
   install: true,
-  link_language: 'fortran',
+  link_language: 'c',
   subdir: 'scipy/linalg'
 )
 
@@ -134,7 +134,7 @@ if use_ilp64
     include_directories: ['../_build_utils/src'],   # for npy_cblas.h
     dependencies: [lapack_dep, fortranobject_dep],  # lapack_dep is ILP64 if use_ilp64==true
     install: true,
-    link_language: 'fortran',
+    link_language: 'c',
     subdir: 'scipy/linalg'
   )
 
@@ -151,7 +151,7 @@ if use_ilp64
     include_directories: ['../_build_utils/src'],   # for npy_cblas.h
     dependencies: [lapack_dep, fortranobject_dep],
     install: true,
-    link_language: 'fortran',
+    link_language: 'c',
     subdir: 'scipy/linalg'
   )
 endif
diff --git a/scipy/odr/meson.build b/scipy/odr/meson.build
index 921710074f..59cffede5e 100644
--- a/scipy/odr/meson.build
+++ b/scipy/odr/meson.build
@@ -16,7 +16,7 @@ py3.extension_module('__odrpack',
   link_args: version_link_args,
   dependencies: [blas_lp64_dep, np_dep],
   install: true,
-  link_language: 'fortran',
+  link_language: 'c',
   subdir: 'scipy/odr'
 )
 
-- 
2.51.0

