From f3d5084842d3b1479c966b355d7fdca500670410 Mon Sep 17 00:00:00 2001
From: Ian Thomas <ianthomas23@gmail.com>
Date: Fri, 9 Jan 2026 10:16:09 +0000
Subject: [PATCH 03/15] Set fortran linker to emcc

---
 scipy/integrate/meson.build                   | 10 +++++-----
 scipy/interpolate/meson.build                 |  4 ++--
 scipy/io/meson.build                          |  2 +-
 scipy/odr/meson.build                         |  2 +-
 scipy/sparse/linalg/_eigen/arpack/meson.build |  2 +-
 scipy/sparse/linalg/_propack/meson.build      |  2 +-
 6 files changed, 11 insertions(+), 11 deletions(-)

diff --git a/scipy/integrate/meson.build b/scipy/integrate/meson.build
index 206d504f44..4c6b36ed75 100644
--- a/scipy/integrate/meson.build
+++ b/scipy/integrate/meson.build
@@ -75,7 +75,7 @@ py3.extension_module('_odepack',
   link_args: version_link_args,
   dependencies: [lapack_dep, np_dep],
   install: true,
-  link_language: 'fortran',
+  link_language: 'c',
   subdir: 'scipy/integrate'
 )
 
@@ -86,7 +86,7 @@ py3.extension_module('_vode',
   link_args: version_link_args,
   dependencies: [lapack_dep, blas_dep, fortranobject_dep],
   install: true,
-  link_language: 'fortran',
+  link_language: 'c',
   subdir: 'scipy/integrate'
 )
 
@@ -97,7 +97,7 @@ py3.extension_module('_lsoda',
   dependencies: [lapack_dep, fortranobject_dep],
   link_args: version_link_args,
   install: true,
-  link_language: 'fortran',
+  link_language: 'c',
   subdir: 'scipy/integrate'
 )
 
@@ -108,7 +108,7 @@ py3.extension_module('_dop',
   dependencies: [fortranobject_dep],
   link_args: version_link_args,
   install: true,
-  link_language: 'fortran',
+  link_language: 'c',
   subdir: 'scipy/integrate'
 )
 
@@ -127,7 +127,7 @@ py3.extension_module('_test_odeint_banded',
   link_args: version_link_args,
   dependencies: [lapack_dep, fortranobject_dep],
   install: true,
-  link_language: 'fortran',
+  link_language: 'c',
   subdir: 'scipy/integrate',
   install_tag: 'tests'
 )
diff --git a/scipy/interpolate/meson.build b/scipy/interpolate/meson.build
index e0e2867b18..9c0af5f809 100644
--- a/scipy/interpolate/meson.build
+++ b/scipy/interpolate/meson.build
@@ -146,7 +146,7 @@ py3.extension_module('_fitpack',
   include_directories: 'src/',
   dependencies: np_dep,
   link_args: version_link_args,
-  link_language: 'fortran',
+  link_language: 'c',
   install: true,
   subdir: 'scipy/interpolate'
 )
@@ -160,7 +160,7 @@ py3.extension_module('_dfitpack',
   link_with: [fitpack_lib],
   override_options: ['b_lto=false'],
   install: true,
-  link_language: 'fortran',
+  link_language: 'c',
   subdir: 'scipy/interpolate'
 )
 
diff --git a/scipy/io/meson.build b/scipy/io/meson.build
index 60f71c6968..abdf2855eb 100644
--- a/scipy/io/meson.build
+++ b/scipy/io/meson.build
@@ -8,7 +8,7 @@ py3.extension_module('_test_fortran',
   link_args: version_link_args,
   dependencies: [lapack_dep, fortranobject_dep],
   install: true,
-  link_language: 'fortran',
+  link_language: 'c',
   subdir: 'scipy/io',
   install_tag: 'tests'
 )
diff --git a/scipy/odr/meson.build b/scipy/odr/meson.build
index c7f53bc236..eedf439916 100644
--- a/scipy/odr/meson.build
+++ b/scipy/odr/meson.build
@@ -16,7 +16,7 @@ py3.extension_module('__odrpack',
   link_args: version_link_args,
   dependencies: [blas_dep, np_dep],
   install: true,
-  link_language: 'fortran',
+  link_language: 'c',
   subdir: 'scipy/odr'
 )
 
diff --git a/scipy/sparse/linalg/_eigen/arpack/meson.build b/scipy/sparse/linalg/_eigen/arpack/meson.build
index 52c8ab968b..9bbf053505 100644
--- a/scipy/sparse/linalg/_eigen/arpack/meson.build
+++ b/scipy/sparse/linalg/_eigen/arpack/meson.build
@@ -107,7 +107,7 @@ _arpack = py3.extension_module('_arpack',
   link_args: version_link_args,
   dependencies: [lapack_dep, blas_dep, fortranobject_dep],
   install: true,
-  link_language: 'fortran',
+  link_language: 'c',
   subdir: 'scipy/sparse/linalg/_eigen/arpack'
 )
 
diff --git a/scipy/sparse/linalg/_propack/meson.build b/scipy/sparse/linalg/_propack/meson.build
index d33cdc0e76..75ba1a3ea8 100644
--- a/scipy/sparse/linalg/_propack/meson.build
+++ b/scipy/sparse/linalg/_propack/meson.build
@@ -107,7 +107,7 @@ foreach ele: elements
     dependencies: [lapack_dep, blas_dep, fortranobject_dep],
     link_args: version_link_args,
     install: true,
-    link_language: 'fortran',
+    link_language: 'c',
     subdir: 'scipy/sparse/linalg/_propack'
   )
 endforeach
-- 
2.51.0

