From e532fec23cf21c695e8731caa183bea2e4be5048 Mon Sep 17 00:00:00 2001
From: Ian Thomas <ianthomas23@gmail.com>
Date: Fri, 9 Jan 2026 10:21:21 +0000
Subject: [PATCH 04/15] Replace dtype with numpy int32

---
 scipy/integrate/_ode.py            | 8 ++++----
 scipy/interpolate/_fitpack2.py     | 4 ++--
 scipy/interpolate/_fitpack_impl.py | 4 ++--
 3 files changed, 8 insertions(+), 8 deletions(-)

diff --git a/scipy/integrate/_ode.py b/scipy/integrate/_ode.py
index 1c1fff502c..1fb2e8cd57 100644
--- a/scipy/integrate/_ode.py
+++ b/scipy/integrate/_ode.py
@@ -84,16 +84,16 @@ import re
 import threading
 import warnings
 
-from numpy import asarray, array, zeros, isscalar, real, imag, vstack
+from numpy import asarray, array, zeros, isscalar, real, imag, vstack, int32
 
 from . import _vode
 from . import _dop
 from . import _lsoda
 
 
-_dop_int_dtype = _dop.types.intvar.dtype
-_vode_int_dtype = _vode.types.intvar.dtype
-_lsoda_int_dtype = _lsoda.types.intvar.dtype
+_dop_int_dtype = int32  # _dop.types.intvar.dtype
+_vode_int_dtype = int32  # _vode.types.intvar.dtype
+_lsoda_int_dtype = int32  # _lsoda.types.intvar.dtype
 
 
 # lsoda, vode and zvode are not thread-safe. VODE_LOCK protects both vode and
diff --git a/scipy/interpolate/_fitpack2.py b/scipy/interpolate/_fitpack2.py
index 85b6b2ea1b..c9469d8a0e 100644
--- a/scipy/interpolate/_fitpack2.py
+++ b/scipy/interpolate/_fitpack2.py
@@ -22,14 +22,14 @@ __all__ = [
 import warnings
 from threading import Lock
 
-from numpy import zeros, concatenate, ravel, diff, array
+from numpy import zeros, concatenate, ravel, diff, array, int32
 import numpy as np
 
 from . import _fitpack_impl
 from . import _dfitpack as dfitpack
 
 
-dfitpack_int = dfitpack.types.intvar.dtype
+dfitpack_int = int32 # dfitpack.types.intvar.dtype
 FITPACK_LOCK = Lock()
 
 
diff --git a/scipy/interpolate/_fitpack_impl.py b/scipy/interpolate/_fitpack_impl.py
index df83108097..e856ed547f 100644
--- a/scipy/interpolate/_fitpack_impl.py
+++ b/scipy/interpolate/_fitpack_impl.py
@@ -28,14 +28,14 @@ import warnings
 import numpy as np
 from . import _fitpack
 from numpy import (atleast_1d, array, ones, zeros, sqrt, ravel, transpose,
-                   empty, iinfo, asarray)
+                   empty, iinfo, asarray, int32)
 
 # Try to replace _fitpack interface with
 #  f2py-generated version
 from . import _dfitpack as dfitpack
 
 
-dfitpack_int = dfitpack.types.intvar.dtype
+dfitpack_int = int32 # dfitpack.types.intvar.dtype
 
 
 def _int_overflow(x, exception, msg=None):
-- 
2.51.0

