context:
  name: r-fastmatch
  version: 1.1-8

package:
  name: ${{ name }}
  version: ${{ version|replace("-", "_") }}

source:
  url:
  - https://cran.r-project.org/src/contrib/${{ name[2:] }}_${{ version }}.tar.gz
  - https://cloud.r-project.org/src/contrib/${{ name[2:] }}_${{ version }}.tar.gz
  sha256: 2661c01bdc2383f4a30bf940e6bc3b68f1329db5f0e837df8160eb893f748d54

build:
  number: 0
  script: $R CMD INSTALL $R_ARGS .

requirements:
  build:
  - ${{ compiler('c') }}
  - cross-r-base_${{ target_platform }}

tests:
- package_contents:
    lib:
    - R/library/${{ name[2:] }}/libs/${{ name[2:] }}.so

about:
  homepage: https://www.rforge.net/fastmatch
  license: GPL-2.0-only
  summary: Package providing a fast match() replacement for cases that require repeated look-ups.
    It is slightly faster that R's built-in match() function on first match against
    a table, but extremely fast on any subsequent lookup as it keeps the hash table
    in memory.
  license_family: GPL2
  license_file: DESCRIPTION

extra:
  recipe-maintainers:
    - rgaiacs