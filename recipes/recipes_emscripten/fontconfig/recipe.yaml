context:
  name: fontconfig
  version: 2.14.0

package:
  name: ${{ name }}
  version: ${{ version }}

source:
  url: http://www.freedesktop.org/software/${{ name }}/release/${{ name }}-${{ version }}.tar.gz
  sha256: b8f607d556e8257da2f3616b4d704be30fd73bd71e367355ca78963f9a7f0434
  patches:
  - patches/emscripten_preprocess.patch

build:
  number: 0

requirements:
  build:
  - ${{ compiler('c') }}
  - pkg-config
  - gperf
  - meson
  host:
  - freetype
  - expat

tests:
- package_contents:
    lib:
    - libfontconfig.a
    include:
    - fontconfig/fontconfig.h
    - fontconfig/fcfreetype.h

about:
  homepage: http://www.freedesktop.org/wiki/Software/fontconfig/
  license: MIT
  license_file: COPYING
  summary: A library for configuring and customizing font access
  description: |
    Fontconfig is a library designed to provide system-wide font configuration,
    customization and application access.
  documentation: https://www.freedesktop.org/software/fontconfig/fontconfig-user.html
  repository: https://cgit.freedesktop.org/fontconfig/

extra:
  recipe-maintainers:
  - IsabelParedes