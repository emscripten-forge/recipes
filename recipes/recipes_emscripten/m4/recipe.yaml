context:
  version: 1.4.19
  name: m4

package:
  name: ${{ name }}
  version: ${{ version }}

source:
  url: https://ftp.gnu.org/gnu/m4/m4-${{ version }}.tar.gz
  sha256:
  patches:
  - patches/obstack_alloc_fail.patch

build:
  number: 0

requirements:
  build:
  - ${{ compiler('c') }}
  - make
  - libtool
  - autoconf
  - automake

tests:
- script: node $PREFIX/bin/m4 --version
  requirements:
    build:
    - nodejs

about:
  homepage: http://www.gnu.org/software/m4/
  license: GPL-3.0-or-later
  license_file: COPYING
  summary: Implementation of the traditional Unix macro processor.
