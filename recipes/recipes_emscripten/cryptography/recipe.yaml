context:
  name: cryptography
  version: 46.0.4

package:
  name: cryptography
  version: ${{ version }}

source:
- url: https://pypi.io/packages/source/${{ name[0] }}/${{ name }}/${{ name }}-${{ version }}.tar.gz
  sha256: bfd019f60f8abc2ed1b9be4ddc21cfef059c841d86d710bb69909a688cbb8f59

build:
  number: 0
  script: ${PYTHON} -m pip install . -vvv

requirements:
  build:
    - ${{compiler('cxx')}}
    - cross-python_${{target_platform}}
    - cffi
    - openssl
    - setuptools-rust
    - rust-nightly
    - maturin
  host:
    - python
    - openssl
    - cffi
  run:
    - cffi

tests:
  - script: pytester
    requirements:
      build:
        - pytester
      run:
        - pytester-run
    files:
      recipe:
        - test_import_cryptography.py

about:
  homepage: https://cryptography.io
  license: Apache-2.0 AND BSD-3-Clause AND PSF-2.0 AND MIT
  license_family: BSD
  license_file: LICENSE
