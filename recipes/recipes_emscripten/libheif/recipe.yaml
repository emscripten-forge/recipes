context:
  name: libheif
  version: 1.20.2

package:
  name: ${{ name }}
  version: ${{ version }}

source:
  url: https://github.com/strukturag/libheif/releases/download/v${{ version }}/libheif-${{ version }}.tar.gz
  sha256: 68ac9084243004e0ef3633f184eeae85d615fe7e4444373a0a21cebccae9d12a

build:
  number: 1

requirements:
  build:
  - ${{ compiler('c') }}
  - ${{ compiler('cxx') }}
  - cmake
  - ninja
  - pkg-config
  host:
  - zlib
  - libtiff
  - libpng

tests:
- package_contents:
    files:
    - include/libheif/heif.h
    - lib/libheif.a

about:
  license: LGPL-3.0-or-later
  license_file: COPYING
  summary: ISO/IEC 23008-12:2017 HEIF and AVIF file format decoder and encoder
  description: |
    libheif is an ISO/IEC 23008-12:2017 HEIF and AVIF (AV1 Image File Format) file format decoder and encoder.
    HEIF and AVIF are new image file formats employing HEVC (H.265) or AV1 image coding, respectively, for the
    best compression ratios currently possible.
  homepage: https://github.com/strukturag/libheif

extra:
  recipe-maintainers:
  - emscripten-forge
