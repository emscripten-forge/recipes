context:
  version: 10.8.1

package:
  name: passagemath-modules
  version: ${{ version }}

source:
- url: https://pypi.org/packages/source/p/passagemath-modules/passagemath_modules-${{ version }}.tar.gz
  sha256: fcbb1cc6a6c3df17be3bfa1ecaa8538d30122a354871d8f4b7ebdbd600f53ad8

build:
  script: ${{ PYTHON }} -m pip install .
  noarch: python

requirements:
  build:
  - python
  - crossenv >=1.2
  - cross-python_emscripten-wasm32
  - ${{ compiler("c") }}
  - ${{ compiler("cxx") }}
  - pip
  - passagemath-setup
  - passagemath-environment
  - cython
  - gmpy2
  - cysignals
  - pkgconfig
  host:
  - python
  - gmp
  - mpfr
  - mpc
  - gsl
  - passagemath-categories
  run:
  - python
  - gmpy2
  - cysignals
  - passagemath-categories

tests:
- script: pytester
  files:
    recipe:
    - test_passagemath_modules.py
  requirements:
    build:
    - pytester
    run:
    - pytester-run
    - passagemath-repl

about:
  license: GPL-2.0-or-later
  license_file: README.rst
  summary: 'passagemath: Vectors, matrices, tensors, vector spaces, affine spaces, modules and algebras, additive groups, quadratic forms, homology, coding theory, matroids'
  description: "===========================================================================================================================================================================================================\r\n passagemath: Vectors, matrices, tensors, vector spaces, affine spaces, modules and algebras, additive groups, quadratic forms, root systems, homology, coding theory, matroids\r\n===========================================================================================================================================================================================================\r\n\r\n`passagemath <https://github.com/passagemath/passagemath>`__ is open\r\nsource mathematical software in Python, released under the GNU General\r\nPublic Licence GPLv2+.\r\n\r\nIt is a fork of `SageMath <https://www.sagemath.org/>`__, which has been\r\ndeveloped 2005-2026 under the motto “Creating a Viable Open Source\r\nAlternative to Magma, Maple, Mathematica, and MATLAB”.\r\n\r\nThe passagemath fork uses the motto \"Creating a Free Passage Between the\r\nScientific Python Ecosystem and Mathematical Software Communities.\"\r\nIt was created in October 2024 with the following goals:\r\n\r\n-  providing modularized installation with pip from binary wheels,\r\n   - this major project was started in May 2020 in the Sage codebase and completed in passagemath 10.5.29 (May 2025),\r\n\r\n-  establishing first-class membership in the scientific Python\r\n   ecosystem,\r\n\r\n-  giving `clear attribution of upstream\r\n   projects <https://groups.google.com/g/sage-devel/c/6HO1HEtL1Fs/m/G002rPGpAAAJ>`__,\r\n\r\n-  providing independently usable Python interfaces to upstream\r\n   libraries,\r\n\r\n-  offering `platform portability and integration testing\r\n   services <https://github.com/passagemath/passagemath/issues/704>`__\r\n   to upstream projects,\r\n\r\n-  inviting collaborations with upstream projects,\r\n\r\n-  `building a professional, respectful, inclusive\r\n   community <https://groups.google.com/g/sage-devel/c/xBzaINHWwUQ>`__,\r\n\r\n-  `empowering Sage users to participate in the scientific Python ecosystem\r\n   <https://github.com/passagemath/passagemath/issues/248>`__ by publishing packages,\r\n\r\n-  developing a port to WebAssembly (`Pyodide <https://pyodide.org/en/stable/>`__, emscripten-forge) for\r\n   serverless deployment with Javascript,\r\n\r\n-  developing a native Windows port\r\n   - passagemath 10.6.1 (July 2025) published the first pip-installable wheel packages for native Windows on x86_64,\r\n   - passagemath packages became available in the [MSYS2 software distribution](https://packages.msys2.org/search?t=pkg&q=passagemath) in November 2025.\r\n\r\nMoreover, the passagemath project:\r\n\r\n-  provides a stable, frequently updated version of the Sage distribution,\r\n-  integrates additional mathematical software, notably Macaulay2, a full set of GAP packages,\r\n   and the Combinatorial Matrix Recognition library,\r\n-  curates a library of Sage user packages.\r\n\r\n`Full documentation <https://passagemath.org/docs/latest/html/en/index.html>`__ is\r\navailable online.\r\n\r\npassagemath attempts to support and provides binary wheels suitable for\r\nall major Linux distributions and recent versions of macOS.\r\n\r\nBinary wheels for native Windows (x86_64, ARM) are are available for a subset of\r\nthe passagemath distributions. Use of the full functionality of passagemath\r\non Windows currently requires the use of Windows Subsystem for Linux (WSL)\r\nor virtualization.\r\n\r\nThe supported Python versions in the passagemath-10.8.x series are 3.11.x-3.14.x;\r\nthe passagemath-10.6.x series (EOL 2026-10) still supports Python 3.10.x.\r\n\r\n\r\nAbout this pip-installable distribution package\r\n-----------------------------------------------\r\n\r\nThis pip-installable distribution ``passagemath-modules`` is a distribution of a part of the Sage Library.  It provides a subset of the modules of the Sage library (\"sagelib\", `passagemath-standard`).\r\n\r\n\r\nWhat is included\r\n----------------\r\n\r\n* `Vectors, Vector Spaces, Modules <https://passagemath.org/docs/latest/html/en/reference/modules/index.html>`_\r\n\r\n* `Matrices and Spaces of Matrices <https://passagemath.org/docs/latest/html/en/reference/matrices/index.html>`_\r\n\r\n* Fields of real and complex numbers in arbitrary precision floating point arithmetic (using MPFR, GSL, mpmath, MPC)\r\n\r\n* `Free Modules with Combinatorial Bases <https://passagemath.org/docs/latest/html/en/reference/combinat/sage/combinat/free_module.html>`_\r\n\r\n* `Tensor Modules <https://passagemath.org/docs/latest/html/en/reference/tensor_free_modules/index.html>`_\r\n\r\n* `Additive Abelian Groups <https://passagemath.org/docs/latest/html/en/reference/groups/sage/groups/additive_abelian/additive_abelian_group.html>`_\r\n\r\n* `Matrix and Affine Groups <https://passagemath.org/docs/latest/html/en/reference/groups/index.html#matrix-and-affine-groups>`_\r\n\r\n* `Root Systems <https://passagemath.org/docs/latest/html/en/reference/combinat/sage/combinat/root_system/all.html#sage-combinat-root-system-all>`_\r\n\r\n* `Quadratic Forms <https://passagemath.org/docs/latest/html/en/reference/quadratic_forms/index.html>`_\r\n\r\n* `Ring Extensions <https://passagemath.org/docs/latest/html/en/reference/rings/sage/rings/ring_extension.html>`_ and `Derivations <https://passagemath.org/docs/latest/html/en/reference/rings/sage/rings/derivation.html>`_\r\n\r\n* `Clifford, Exterior <https://passagemath.org/docs/latest/html/en/reference/algebras/sage/algebras/clifford_algebra.html>`_, and  `Weyl Algebras <https://passagemath.org/docs/latest/html/en/reference/algebras/sage/algebras/weyl_algebra.html>`_\r\n\r\n* `Chain Complexes, Homology <https://passagemath.org/docs/latest/html/en/reference/homology/index.html>`_, `Free Resolutions <https://passagemath.org/docs/latest/html/en/reference/resolutions/index.html>`_\r\n\r\n* `Matroid Theory <https://passagemath.org/docs/latest/html/en/reference/matroids/index.html>`_\r\n\r\n* `Coding Theory <https://passagemath.org/docs/latest/html/en/reference/coding/index.html>`_\r\n\r\n* `Cryptography <https://passagemath.org/docs/latest/html/en/reference/cryptography/index.html>`_\r\n\r\n* `Statistics <https://passagemath.org/docs/latest/html/en/reference/stats/index.html>`_\r\n\r\n\r\nExamples\r\n--------\r\n\r\nA quick way to try it out interactively::\r\n\r\n    $ pipx run --pip-args=\"--prefer-binary\" --spec \"passagemath-modules[test]\" ipython\r\n\r\n    In [1]: from passagemath_modules import *\r\n\r\n    In [2]: M = matroids.Wheel(5); M\r\n    Out[2]: Wheel(5): Regular matroid of rank 5 on 10 elements with 121 bases\r\n\r\n    In [3]: M.representation()\r\n    Out[3]:\r\n    [ 1  0  0  0  0  1  0  0  0 -1]\r\n    [ 0  1  0  0  0 -1  1  0  0  0]\r\n    [ 0  0  1  0  0  0 -1  1  0  0]\r\n    [ 0  0  0  1  0  0  0 -1  1  0]\r\n    [ 0  0  0  0  1  0  0  0 -1  1]\r\n\r\n\r\nAvailable as extras, from other distributions\r\n---------------------------------------------\r\n\r\n``pip install \"passagemath-modules[RDF,CDF]\"``\r\n Linear algebra over fields of real and complex numbers using NumPy\r\n\r\n``pip install \"passagemath-modules[RBF,CBF]\"``\r\n Linear algebra over fields of real and complex numbers with ball arithmetic using FLINT/arb\r\n\r\n``pip install \"passagemath-modules[GF,GF2,GF2e,GFpn]\"``\r\n Linear algebra over finite fields (various implementations)\r\n\r\n``pip install \"passagemath-modules[QQbar,NumberField,CyclotomicField]\"``\r\n Linear algebra over the algebraic numbers or number fields\r\n\r\n``pip install \"passagemath-modules[flint,fpylll,linbox]\"``\r\n Lattice basis reduction (LLL, BKZ)::\r\n\r\n    $ pipx run --pip-args=\"--prefer-binary\" --spec \"passagemath-modules[flint,fpylll,linbox,test]\" ipython\r\n\r\n    In [1]: from passagemath_modules import *\r\n\r\n    In [2]: M = matrix(ZZ, [[1,2,3],[31,41,51],[101,201,301]])\r\n\r\n    In [3]: A = M.LLL(); A\r\n    Out[3]:\r\n    [ 0  0  0]\r\n    [-1  0  1]\r\n    [ 1  1  1]\r\n\r\n``pip install \"passagemath-modules[padics]\"``\r\n Linear algebra over p-adic rings and fields\r\n\r\n``pip install \"passagemath-modules[combinat]\"``\r\n Modules and algebras with combinatorial bases; algebraic combinatorics\r\n\r\n``pip install \"passagemath-modules[invariant]\"``\r\n Submodules invariant under group actions\r\n\r\n``pip install \"passagemath-modules[standard]\"``\r\n All related features as in a standard installation of SageMath\r\n\r\n\r\nDevelopment\r\n-----------\r\n\r\n::\r\n\r\n    $ git clone --origin passagemath https://github.com/passagemath/passagemath.git\r\n    $ cd passagemath\r\n    passagemath $ ./bootstrap\r\n    passagemath $ python3 -m venv modules-venv\r\n    passagemath $ source modules-venv/bin/activate\r\n    (modules-venv) passagemath $ pip install -v -e pkgs/sagemath-modules\r\n"

extra:
  emscripten_tests:
    python:
      pytest_files:
      - test_passagemath_modules.py
  recipe-maintainers:
  - mkoeppe
