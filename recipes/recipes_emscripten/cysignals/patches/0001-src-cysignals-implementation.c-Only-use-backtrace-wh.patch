From 4bc25048707657e93bfd0169a0bb0bad7421773c Mon Sep 17 00:00:00 2001
From: Matthias Koeppe <mkoeppe@math.ucdavis.edu>
Date: Mon, 9 Feb 2026 18:25:33 -0800
Subject: [PATCH 1/3] src/cysignals/implementation.c: Only use backtrace when
 both HAVE_BACKTRACE and HAVE_EXECINFO_H

---
 src/cysignals/implementation.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/src/cysignals/implementation.c b/src/cysignals/implementation.c
index 88dee66..5f8f3e5 100644
--- a/src/cysignals/implementation.c
+++ b/src/cysignals/implementation.c
@@ -719,7 +719,7 @@ static void print_sep(void)
 /* Print a backtrace if supported by libc */
 static void print_backtrace()
 {
-#if HAVE_BACKTRACE
+#if HAVE_BACKTRACE && HAVE_EXECINFO_H
     void* backtracebuffer[BACKTRACELEN];
     int btsize = backtrace(backtracebuffer, BACKTRACELEN);
     if (btsize)
-- 
2.51.1

