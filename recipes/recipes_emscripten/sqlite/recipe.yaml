context:
  version: 3.49.1
  year: 2025
  version_major: ${{ (version | split('.'))[0:1] | first }}
  version_minor: ${{ (version | split('.'))[1:2] | first }}
  version_patch: ${{ (version | split('.'))[2:3] | first }}
  version_url: "${{ version_major }}${{ version_minor }}0${{ version_patch }}00"


package:
  name: sqlite
  version: ${{ version }}

source:
  url: https://www.sqlite.org/2025/sqlite-src-3490100.zip
  # url: https://www.sqlite.org/${{year}}/sqlite-autoconf-${{version_url}}.tar.gz
  sha256: 4404d93cbce818b1b98ca7259d0ba9b45db76f2fdd9373e56f2d29b519f4d43b


build:
  number: 0

requirements:
  build:
  - ${{ compiler('c') }}
  - make
  - libtool
  host:
  -  zlib 


tests:
- script:
  - sqlite3 --version  - test -f $PREFIX/lib/libsqlite3${SHLIB_EXT}
  - test ! -f $PREFIX/lib/libsqlite3.a
  - test -f $PREFIX/lib/libsqlite3.a
  - test -f $PREFIX/include/sqlite3.h
  - test -f $PREFIX/include/sqlite3ext.h
about:
  license: Unlicense
  license_url: http://www.sqlite.org/copyright.html
  summary: Implements a self-contained, zero-configuration, SQL database engine
  description: |
    SQLite is a self-contained, high-reliability, embedded, full-featured,
    public-domain, SQL database engine.It is the most used database engine
    in the world.
  documentation: https://github.com/mackyle/sqlite/tree/master/doc
  homepage: http://www.sqlite.org/
extra:
  recipe-maintainers:
  - DerThorsten

