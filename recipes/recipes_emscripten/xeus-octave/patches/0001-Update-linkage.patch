From 963101c641f9009c7fc52d0086ece4c3e3f0ef00 Mon Sep 17 00:00:00 2001
From: Isabel Paredes <isabel.paredes@quantstack.net>
Date: Thu, 20 Nov 2025 11:06:08 +0100
Subject: [PATCH 1/3] Update linkage

---
 CMakeLists.txt | 7 +++++--
 1 file changed, 5 insertions(+), 2 deletions(-)

diff --git a/CMakeLists.txt b/CMakeLists.txt
index b24a82d..dd1ff5d 100644
--- a/CMakeLists.txt
+++ b/CMakeLists.txt
@@ -261,9 +261,12 @@ macro(xeus_octave_create_target target_name linkage output_name)
 
     if(EMSCRIPTEN)
         include(WasmBuildOptions)
-        target_compile_options(${target_name} PRIVATE ${octinterp_CFLAGS})
         xeus_wasm_compile_options(${target_name})
-        target_link_libraries(${target_name} PUBLIC xeus ${octinterp_STATIC_LIBRARIES})
+        target_link_libraries(
+            ${target_name}
+            PUBLIC xeus PkgConfig::octinterp
+            PRIVATE FortranRuntime
+        )
     else()
         target_link_libraries(
             ${target_name}
