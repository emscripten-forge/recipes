From 1ced6a66ca8305c811d9ffead561a3817a8f5fdf Mon Sep 17 00:00:00 2001
From: AntoinePrv <AntoinePrv@users.noreply.github.com>
Date: Thu, 10 Apr 2025 14:18:55 +0200
Subject: [PATCH] Remove COMMON

---
 liboctave/external/odepack/dintdy.f | 1 -
 liboctave/external/odepack/dlsode.f | 2 --
 liboctave/external/odepack/dprepj.f | 1 -
 liboctave/external/odepack/dsolsy.f | 1 -
 liboctave/external/odepack/dstode.f | 1 -
 liboctave/external/odepack/sintdy.f | 1 -
 liboctave/external/odepack/slsode.f | 2 --
 liboctave/external/odepack/sprepj.f | 1 -
 liboctave/external/odepack/ssolsy.f | 1 -
 liboctave/external/odepack/sstode.f | 1 -
 liboctave/external/ranlib/advnst.f  | 7 -------
 liboctave/external/ranlib/getsd.f   | 7 -------
 liboctave/external/ranlib/ignlgi.f  | 7 -------
 liboctave/external/ranlib/initgn.f  | 7 -------
 liboctave/external/ranlib/inrgcm.f  | 7 -------
 liboctave/external/ranlib/setall.f  | 7 -------
 liboctave/external/ranlib/setant.f  | 7 -------
 liboctave/external/ranlib/setsd.f   | 7 -------
 18 files changed, 68 deletions(-)

diff --git a/liboctave/external/odepack/dintdy.f b/liboctave/external/odepack/dintdy.f
index f30242c..6029c83 100644
--- a/liboctave/external/odepack/dintdy.f
+++ b/liboctave/external/odepack/dintdy.f
@@ -49,7 +49,6 @@ C**End
      2   MAXORD, MAXCOR, MSBP, MXNCF, N, NQ, NST, NFE, NJE, NQU
       DOUBLE PRECISION CONIT, CRATE, EL, ELCO, HOLD, RMAX, TESCO,
      1   CCMAX, EL0, H, HMIN, HMXI, HU, RC, TN, UROUND
-      COMMON /DLS001/ CONIT, CRATE, EL(13), ELCO(13,12),
      1   HOLD, RMAX, TESCO(3,12),
      2   CCMAX, EL0, H, HMIN, HMXI, HU, RC, TN, UROUND,
      2   ILLIN, INIT, LYH, LEWT, LACOR, LSAVF, LWM, LIWM,
diff --git a/liboctave/external/odepack/dlsode.f b/liboctave/external/odepack/dlsode.f
index 59e3d53..0a4890e 100644
--- a/liboctave/external/odepack/dlsode.f
+++ b/liboctave/external/odepack/dlsode.f
@@ -1082,7 +1082,6 @@ C     given by NST = 0, NQ is 1 and H is temporarily set to 1.0.
 C     NYH is the initial value of NEQ.  The quantities NQ, H, and NST
 C     can be obtained by including in SEWSET the statements:
 C           DOUBLE PRECISION RLS
-C           COMMON /DLS001/ RLS(218),ILS(37)
 C           NQ = ILS(33)
 C           NST = ILS(34)
 C           H = RLS(212)
@@ -1231,7 +1230,6 @@ C DPREPJ, and DSOLSY.
 C Groups of variables are replaced by dummy arrays in the Common
 C declarations in routines where those variables are not used.
 C-----------------------------------------------------------------------
-      COMMON /DLS001/ CONIT, CRATE, EL(13), ELCO(13,12),
      1   HOLD, RMAX, TESCO(3,12),
      1   CCMAX, EL0, H, HMIN, HMXI, HU, RC, TN, UROUND,
      2   ILLIN, INIT, LYH, LEWT, LACOR, LSAVF, LWM, LIWM,
diff --git a/liboctave/external/odepack/dprepj.f b/liboctave/external/odepack/dprepj.f
index 97d2927..561b64b 100644
--- a/liboctave/external/odepack/dprepj.f
+++ b/liboctave/external/odepack/dprepj.f
@@ -65,7 +65,6 @@ C**End
      2   IALTH, IPUP, LMAX, MEO, NQNYH, NSLP
       DOUBLE PRECISION CONIT, CRATE, EL, ELCO, HOLD, RMAX, TESCO,
      1   CCMAX, EL0, H, HMIN, HMXI, HU, RC, TN, UROUND
-      COMMON /DLS001/ CONIT, CRATE, EL(13), ELCO(13,12),
      1   HOLD, RMAX, TESCO(3,12),
      2   CCMAX, EL0, H, HMIN, HMXI, HU, RC, TN, UROUND,
      2   ILLIN, INIT, LYH, LEWT, LACOR, LSAVF, LWM, LIWM,
diff --git a/liboctave/external/odepack/dsolsy.f b/liboctave/external/odepack/dsolsy.f
index 2d5a403..945c507 100644
--- a/liboctave/external/odepack/dsolsy.f
+++ b/liboctave/external/odepack/dsolsy.f
@@ -52,7 +52,6 @@ C**End
      2   MAXORD, MAXCOR, MSBP, MXNCF, N, NQ, NST, NFE, NJE, NQU
       DOUBLE PRECISION CONIT, CRATE, EL, ELCO, HOLD, RMAX, TESCO,
      2   CCMAX, EL0, H, HMIN, HMXI, HU, RC, TN, UROUND
-      COMMON /DLS001/ CONIT, CRATE, EL(13), ELCO(13,12),
      1   HOLD, RMAX, TESCO(3,12),
      2   CCMAX, EL0, H, HMIN, HMXI, HU, RC, TN, UROUND,
      2   ILLIN, INIT, LYH, LEWT, LACOR, LSAVF, LWM, LIWM,
diff --git a/liboctave/external/odepack/dstode.f b/liboctave/external/odepack/dstode.f
index 187d1e8..aea304c 100644
--- a/liboctave/external/odepack/dstode.f
+++ b/liboctave/external/odepack/dstode.f
@@ -107,7 +107,6 @@ C**End
      2   CCMAX, EL0, H, HMIN, HMXI, HU, RC, TN, UROUND
       DOUBLE PRECISION DCON, DDN, DEL, DELP, DSM, DUP, EXDN, EXSM, EXUP,
      1   R, RH, RHDN, RHSM, RHUP, TOLD, DVNORM
-      COMMON /DLS001/ CONIT, CRATE, EL(13), ELCO(13,12),
      1   HOLD, RMAX, TESCO(3,12),
      2   CCMAX, EL0, H, HMIN, HMXI, HU, RC, TN, UROUND,
      2   ILLIN, INIT, LYH, LEWT, LACOR, LSAVF, LWM, LIWM,
diff --git a/liboctave/external/odepack/sintdy.f b/liboctave/external/odepack/sintdy.f
index aa8af44..6c54749 100644
--- a/liboctave/external/odepack/sintdy.f
+++ b/liboctave/external/odepack/sintdy.f
@@ -49,7 +49,6 @@ C**End
      3   MAXORD, MAXCOR, MSBP, MXNCF, N, NQ, NST, NFE, NJE, NQU
       REAL CONIT, CRATE, EL, ELCO, HOLD, RMAX, TESCO,
      1   CCMAX, EL0, H, HMIN, HMXI, HU, RC, TN, UROUND
-      COMMON /SLS001/ CONIT, CRATE, EL(13), ELCO(13,12),
      1   HOLD, RMAX, TESCO(3,12),
      1   CCMAX, EL0, H, HMIN, HMXI, HU, RC, TN, UROUND,
      2   INIT, MXSTEP, MXHNIL, NHNIL, NSLAST, CNYH,
diff --git a/liboctave/external/odepack/slsode.f b/liboctave/external/odepack/slsode.f
index 7551589..220db1d 100644
--- a/liboctave/external/odepack/slsode.f
+++ b/liboctave/external/odepack/slsode.f
@@ -1082,7 +1082,6 @@ C     given by NST = 0, NQ is 1 and H is temporarily set to 1.0.
 C     NYH is the initial value of NEQ.  The quantities NQ, H, and NST
 C     can be obtained by including in SEWSET the statements:
 C           REAL RLS
-C           COMMON /SLS001/ RLS(218),ILS(37)
 C           NQ = ILS(33)
 C           NST = ILS(34)
 C           H = RLS(212)
@@ -1231,7 +1230,6 @@ C SPREPJ, and SSOLSY.
 C Groups of variables are replaced by dummy arrays in the Common
 C declarations in routines where those variables are not used.
 C-----------------------------------------------------------------------
-      COMMON /SLS001/ CONIT, CRATE, EL(13), ELCO(13,12),
      1   HOLD, RMAX, TESCO(3,12),
      1   CCMAX, EL0, H, HMIN, HMXI, HU, RC, TN, UROUND,
      2   INIT, MXSTEP, MXHNIL, NHNIL, NSLAST, NYH,
diff --git a/liboctave/external/odepack/sprepj.f b/liboctave/external/odepack/sprepj.f
index 72f79df..8a94d86 100644
--- a/liboctave/external/odepack/sprepj.f
+++ b/liboctave/external/odepack/sprepj.f
@@ -65,7 +65,6 @@ C**End
      3   MAXORD, MAXCOR, MSBP, MXNCF, N, NQ, NST, NFE, NJE, NQU
       REAL CONIT, CRATE, EL, ELCO, HOLD, RMAX, TESCO,
      1   CCMAX, EL0, H, HMIN, HMXI, HU, RC, TN, UROUND
-      COMMON /SLS001/ CONIT, CRATE, EL(13), ELCO(13,12),
      1   HOLD, RMAX, TESCO(3,12),
      1   CCMAX, EL0, H, HMIN, HMXI, HU, RC, TN, UROUND,
      2   INIT, MXSTEP, MXHNIL, NHNIL, NSLAST, CNYH,
diff --git a/liboctave/external/odepack/ssolsy.f b/liboctave/external/odepack/ssolsy.f
index 35926d7..20898a3 100644
--- a/liboctave/external/odepack/ssolsy.f
+++ b/liboctave/external/odepack/ssolsy.f
@@ -52,7 +52,6 @@ C**End
      3   MAXORD, MAXCOR, MSBP, MXNCF, N, NQ, NST, NFE, NJE, NQU
       REAL CONIT, CRATE, EL, ELCO, HOLD, RMAX, TESCO,
      1   CCMAX, EL0, H, HMIN, HMXI, HU, RC, TN, UROUND
-      COMMON /SLS001/ CONIT, CRATE, EL(13), ELCO(13,12),
      1   HOLD, RMAX, TESCO(3,12),
      1   CCMAX, EL0, H, HMIN, HMXI, HU, RC, TN, UROUND,
      2   INIT, MXSTEP, MXHNIL, NHNIL, NSLAST, NYH,
diff --git a/liboctave/external/odepack/sstode.f b/liboctave/external/odepack/sstode.f
index bce053f..f754dd9 100644
--- a/liboctave/external/odepack/sstode.f
+++ b/liboctave/external/odepack/sstode.f
@@ -107,7 +107,6 @@ C**End
      1   CCMAX, EL0, H, HMIN, HMXI, HU, RC, TN, UROUND
       REAL DCON, DDN, DEL, DELP, DSM, DUP, EXDN, EXSM, EXUP,
      1   R, RH, RHDN, RHSM, RHUP, TOLD, SVNORM
-      COMMON /SLS001/ CONIT, CRATE, EL(13), ELCO(13,12),
      1   HOLD, RMAX, TESCO(3,12),
      1   CCMAX, EL0, H, HMIN, HMXI, HU, RC, TN, UROUND,
      2   INIT, MXSTEP, MXHNIL, NHNIL, NSLAST, CNYH,
diff --git a/liboctave/external/ranlib/advnst.f b/liboctave/external/ranlib/advnst.f
index 2fca548..e0bfa65 100644
--- a/liboctave/external/ranlib/advnst.f
+++ b/liboctave/external/ranlib/advnst.f
@@ -48,13 +48,6 @@ C     ..
 C     .. External Subroutines ..
       EXTERNAL getcgn,setsd
 C     ..
-C     .. Common blocks ..
-      COMMON /globe/m1,m2,a1,a2,a1w,a2w,a1vw,a2vw,ig1,ig2,lg1,lg2,cg1,
-     +       cg2,qanti
-C     ..
-C     .. Save statement ..
-      SAVE /globe/
-C     ..
 C     .. Executable Statements ..
 C     Abort unless random number generator initialized
       IF (qrgnin()) GO TO 10
diff --git a/liboctave/external/ranlib/getsd.f b/liboctave/external/ranlib/getsd.f
index 2af71cf..5333f9f 100644
--- a/liboctave/external/ranlib/getsd.f
+++ b/liboctave/external/ranlib/getsd.f
@@ -50,13 +50,6 @@ C     ..
 C     .. External Subroutines ..
       EXTERNAL getcgn
 C     ..
-C     .. Common blocks ..
-      COMMON /globe/m1,m2,a1,a2,a1w,a2w,a1vw,a2vw,ig1,ig2,lg1,lg2,cg1,
-     +       cg2,qanti
-C     ..
-C     .. Save statement ..
-      SAVE /globe/
-C     ..
 C     .. Executable Statements ..
 C     Abort unless random number generator initialized
       IF (qrgnin()) GO TO 10
diff --git a/liboctave/external/ranlib/ignlgi.f b/liboctave/external/ranlib/ignlgi.f
index 6d7109b..2367b48 100644
--- a/liboctave/external/ranlib/ignlgi.f
+++ b/liboctave/external/ranlib/ignlgi.f
@@ -38,13 +38,6 @@ C     ..
 C     .. External Subroutines ..
       EXTERNAL getcgn,inrgcm,rgnqsd,setall
 C     ..
-C     .. Common blocks ..
-      COMMON /globe/m1,m2,a1,a2,a1w,a2w,a1vw,a2vw,ig1,ig2,lg1,lg2,cg1,
-     +       cg2,qanti
-C     ..
-C     .. Save statement ..
-      SAVE /globe/
-C     ..
 C     .. Executable Statements ..
 C
 C     IF THE RANDOM NUMBER PACKAGE HAS NOT BEEN INITIALIZED YET, DO SO.
diff --git a/liboctave/external/ranlib/initgn.f b/liboctave/external/ranlib/initgn.f
index 60a792c..830c3a6 100644
--- a/liboctave/external/ranlib/initgn.f
+++ b/liboctave/external/ranlib/initgn.f
@@ -54,13 +54,6 @@ C     ..
 C     .. External Subroutines ..
       EXTERNAL getcgn
 C     ..
-C     .. Common blocks ..
-      COMMON /globe/m1,m2,a1,a2,a1w,a2w,a1vw,a2vw,ig1,ig2,lg1,lg2,cg1,
-     +       cg2,qanti
-C     ..
-C     .. Save statement ..
-      SAVE /globe/
-C     ..
 C     .. Executable Statements ..
 C     Abort unless random number generator initialized
       IF (qrgnin()) GO TO 10
diff --git a/liboctave/external/ranlib/inrgcm.f b/liboctave/external/ranlib/inrgcm.f
index 7554cf2..6fc4224 100644
--- a/liboctave/external/ranlib/inrgcm.f
+++ b/liboctave/external/ranlib/inrgcm.f
@@ -33,13 +33,6 @@ C     .. External Functions ..
       LOGICAL qrgnsn
       EXTERNAL qrgnsn
 C     ..
-C     .. Common blocks ..
-      COMMON /globe/m1,m2,a1,a2,a1w,a2w,a1vw,a2vw,ig1,ig2,lg1,lg2,cg1,
-     +       cg2,qanti
-C     ..
-C     .. Save statement ..
-      SAVE /globe/
-C     ..
 C     .. Executable Statements ..
 C     V=20;                            W=30;
 C
diff --git a/liboctave/external/ranlib/setall.f b/liboctave/external/ranlib/setall.f
index 6ae10ed..dd32d84 100644
--- a/liboctave/external/ranlib/setall.f
+++ b/liboctave/external/ranlib/setall.f
@@ -54,13 +54,6 @@ C     ..
 C     .. External Subroutines ..
       EXTERNAL getcgn,initgn,inrgcm,setcgn
 C     ..
-C     .. Common blocks ..
-      COMMON /globe/m1,m2,a1,a2,a1w,a2w,a1vw,a2vw,ig1,ig2,lg1,lg2,cg1,
-     +       cg2,qanti
-C     ..
-C     .. Save statement ..
-      SAVE /globe/,qqssd
-C     ..
 C     .. Data statements ..
       DATA qqssd/.FALSE./
 C     ..
diff --git a/liboctave/external/ranlib/setant.f b/liboctave/external/ranlib/setant.f
index 46782a3..6c356c5 100644
--- a/liboctave/external/ranlib/setant.f
+++ b/liboctave/external/ranlib/setant.f
@@ -53,13 +53,6 @@ C     ..
 C     .. External Subroutines ..
       EXTERNAL getcgn
 C     ..
-C     .. Common blocks ..
-      COMMON /globe/m1,m2,a1,a2,a1w,a2w,a1vw,a2vw,ig1,ig2,lg1,lg2,cg1,
-     +       cg2,qanti
-C     ..
-C     .. Save statement ..
-      SAVE /globe/
-C     ..
 C     .. Executable Statements ..
 C     Abort unless random number generator initialized
       IF (qrgnin()) GO TO 10
diff --git a/liboctave/external/ranlib/setsd.f b/liboctave/external/ranlib/setsd.f
index 8a5e906..552eb99 100644
--- a/liboctave/external/ranlib/setsd.f
+++ b/liboctave/external/ranlib/setsd.f
@@ -50,13 +50,6 @@ C     ..
 C     .. External Subroutines ..
       EXTERNAL getcgn,initgn
 C     ..
-C     .. Common blocks ..
-      COMMON /globe/m1,m2,a1,a2,a1w,a2w,a1vw,a2vw,ig1,ig2,lg1,lg2,cg1,
-     +       cg2,qanti
-C     ..
-C     .. Save statement ..
-      SAVE /globe/
-C     ..
 C     .. Executable Statements ..
 C     Abort unless random number generator initialized
       IF (qrgnin()) GO TO 10
-- 
2.48.1

