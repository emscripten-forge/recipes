context:
  version: '1.6.0'

source:
  - path: bin
    target_directory: bin
  - path: pytester
    target_directory: pytester

outputs:
  - package:
      name: pytester
      version: ${{ version }}

    build:
      number: 1

      noarch: python

    requirements:
      host:
        - python
      run:
        - playwright >= 1.58.0
        - pyjs_code_runner >= 3.2.0
    
    tests:
      - package_contents:
          files:
          - site-packages/pytester/main_mount/main.py

  - package:
      name: pytester-run
      version: ${{ version }}
    build:
      number: 0
      noarch: generic
    requirements:
      run:
        - pyjs
        - pytest
        - python 

    tests:
      - package_contents:
          files:
          - bin/pytester


about:
  license: MIT
  license_file: LICENSE.txt
  summary: test meta pkg

